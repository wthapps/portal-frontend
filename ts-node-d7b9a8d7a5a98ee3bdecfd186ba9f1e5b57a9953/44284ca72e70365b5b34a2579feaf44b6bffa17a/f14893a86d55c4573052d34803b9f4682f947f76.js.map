{"version":3,"file":"/home/hdthinh/wthapps/portal-frontend/tools/tasks/seed/check.tools.ts","sources":["/home/hdthinh/wthapps/portal-frontend/tools/tasks/seed/check.tools.ts"],"names":[],"mappings":";AAAA,IAAY,IAAI,WAAM,WAAW,CAAC,CAAA;AAClC,qBAAqB,MAAM,CAAC,CAAA;AAE5B,IAAI,EAAE,GAAG,OAAO,CAAC,IAAI,CAAC,CAAC;AAKvB,iBAAS,UAAC,IAAS;IAEjB,IAAI,SAAS,GAAG,WAAI,CAAC,OAAO,CAAC,GAAG,EAAE,EAAE,OAAO,EAAE,WAAW,CAAC,CAAC;IAG1D,IAAI,UAAU,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC;IAC1C,IAAI,UAAU,GAAG,OAAO,CAAC,eAAe,CAAC,CAAC;IAE1C,IAAI,OAAO,GAAG,KAAK,CAAC;IAEpB,IAAI,CAAC;QACH,EAAE,CAAC,UAAU,CAAC,SAAS,EAAE,EAAE,CAAC,IAAI,CAAC,CAAC;QAClC,IAAI,CAAC,GAAG,CAAC,6DAA6D,CAAC,CAAC;QACxE,OAAO,GAAG,IAAI,CAAC;IAEjB,CAAE;IAAA,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACX,IAAI,CAAC,GAAG,CAAC,sCAAsC,CAAC,CAAC;QACjD,IAAI,EAAE,CAAC;IACT,CAAC;IAGD,EAAE,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QACZ,IAAI,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC;QACrD,UAAU,EAAE,CAAC;QAEb,IAAI,CAAC,GAAG,CAAC,0CAA0C,CAAC,CAAC;QACrD,IAAI,KAAK,GAAG,UAAU,EAAE,CAAC;QAEzB,KAAK,CAAC,EAAE,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;IAExB,CAAC;AAEH,CAAC,CAAC","sourcesContent":["import * as util from 'gulp-util';\nimport { join } from 'path';\n\nlet fs = require('fs');\n\n\n// if gulpfile.ts has been compiled then we need to rebuild the toolchain\n\nexport = (done: any) => {\n\n  let checkFile = join(process.cwd(), 'tools', 'config.js');\n\n  // need to require the build.toolchain task as it won't be able to run after we run clear.files\n  let buildTools = require('./build.tools');\n  let cleanTools = require('./clean.tools');\n\n  let rebuild = false;\n\n  try {\n    fs.accessSync(checkFile, fs.F_OK);\n    util.log('Gulpfile has previously been compiled, rebuilding toolchain');\n    rebuild = true;\n\n  } catch (e) {\n    util.log('Tools not compiled, skipping rebuild');\n    done();\n  }\n\n  // continue here to prevent other errors being caught...\n  if (rebuild) {\n    util.log('Running \\'clean.tools\\' from check.tools');\n    cleanTools();\n\n    util.log('Running \\'build.tools\\' from check.tools');\n    let build = buildTools();\n\n    build.on('end', done);\n\n  }\n\n};\n"]}