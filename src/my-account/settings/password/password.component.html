
<div class="box-panel">
  <h3 class="box-panel-title">Change Password</h3>
  <!-- [formGroup]="form" -->
  <form [formGroup]="form" (ngSubmit)="onSubmit(form.value)" novalidate>
    <div class="row">
      <div class="col-xs-6 col-sm-4">
        <div class="form-group has-password" [ngClass]="{'has-error': (!oldPassword.valid && oldPassword.touched)}">
          <label for="oldPassword">Current Password</label>
          <input [formControl]="oldPassword" type="password" class="form-control" id="oldPassword"
                 placeholder="Enter your current password">
          <span (click)="hideShowPassword($event)" class="hideShowPassword-toggle"
                pTooltip="{{ tooltip.showPassword }}" tooltipPosition="top"></span>
          <div *ngIf="!oldPassword.valid && oldPassword.touched">
            <span *ngIf="!oldPassword.valid && oldPassword.errors.required" class="help-block">Current password is required</span>
          </div>
        </div>

        <div class="form-group has-password" [ngClass]="{'has-error': (!password.valid && password.touched)}">
          <label for="password">Enter your new password</label>
          <input [formControl]="password" type="password" class="form-control" id="password"
                 placeholder="Enter your new password">
          <span (click)="hideShowPassword($event)" class="hideShowPassword-toggle"
                pTooltip="{{ tooltip.showPassword }}" tooltipPosition="top"></span>
        </div>
      </div>
      <!-- {{password.errors | json}} -->
      <div class="col-xs-6 col-sm-4">
        <p>New password must:</p>
        <ul>
          <li [ngClass]="password.errors && (password.errors.required || password.errors.minlength) ? 'text-danger' : 'text-success'">Contain at least 8 characters or more</li>
          <li [ngClass]="password.errors && password.errors.lowercaseUppercase ? 'text-danger' : 'text-success'">Contain both uppercase and lowercase characters</li>
          <li [ngClass]="password.errors && password.errors.specialSymbolOrNumber ? 'text-danger' : 'text-success'">Contain at least one number or symbol</li>
        </ul>
      </div>
    </div>
    <div class="form-group">
      <button [disabled]="!form.valid || form.pristine" type="submit" class="btn btn-outline-primary btn-min mr20">Update</button>
      <a [href]="baseUrls.app + '/recovery/forgottenpassword'">I forgot my password</a>
    </div>
  </form>
</div>
