<bs-modal id="modal-note-edit" #modal
       [keyboard]="false"
       [animation]="false"
       [cssClass]="'modal-lg modal-note-edit'">
  <bs-modal-body>
    <div class="note-editor-header">
      <div class="note-editor-header-content">
        <div class="note-editor-header-action">
          <button (click)="onModalClose()" type="button" class="btn btn-default">
            <i class="fa fa-arrow-left"></i>
          </button>
        </div>
        <div class="note-editor-header-action note-editor-header-action-right">
          <button class="btn btn-default"><i class="fa fa-share-alt"></i></button>
          <button class="btn btn-default"><i class="fa fa-trash-o"></i></button>
          <div class="btn-group">
            <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1"
                    data-toggle="dropdown">
              <i class="fa fa-ellipsis-v"></i>
            </button>
            <ul class="dropdown-menu dropdown-menu-top dropdown-menu-right" role="menu"
                aria-labelledby="dropdownMenu1">
              <li role="presentation">
                <a role="menuitem" tabindex="-1" href="#">Make a copy</a>
              </li>
              <li role="presentation">
                <a role="menuitem" tabindex="-1" href="#">Move to folder</a>
              </li>
              <li role="presentation"><a href="javascript:;" (click)="print()"> Print</a></li>
              <li role="presentation"><a href="javascript:;" (click)="pdfDownload()"> Export as PDF</a></li>
            </ul>
          </div>
          <button (click)="onModalClose()" type="button" class="btn btn-outline-primary btn-min">
            Done
          </button>
        </div>
        <div class="note-editor-header-input">
          <h3 class="text-normal mt0">{{ note.title }}</h3>
        </div>
      </div>
    </div>
    <div class="note-editor-nav">
      <div class="container-fluid">
        <nav class="nav-tabs-wrap p0 nav-tabs-wrap-sm">
          <ul class="nav nav-tabs list-unstyled clearfix">
            <li [ngClass]="{'active': currentTab == 'note'}">
              <a (click)="currentTab = 'note'" href="javascript:;"><i class="fa fa-sticky-note"></i> Note</a>
            </li>
            <li [ngClass]="{'active': currentTab == 'attachment'}">
              <a (click)="currentTab = 'attachment'" href="javascript:;"><i class="fa fa-paperclip"></i> Attachment
                ({{ note?.attachments?.length || 0 }})</a>
            </li>
            <li class="pull-right">
              <a (click)="hasShowComment = !hasShowComment" href="javascript:;">
                <i class="fa fa-comment"></i> Comment
                <i *ngIf="!hasShowComment" class="fa fa-caret-right"></i>
                <i *ngIf="hasShowComment" class="fa fa-caret-left"></i>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
    <div class="note-editor-content" [ngClass]="{'show-aside': hasShowComment}">
      <div class="note-editor-aside">

      </div>
      <div class="note-editor-body">
        <div class="container">
          <div class="ql-container ql-snow" [ngClass]="{'hidden': currentTab !== 'note'}" id="quill-editor">
            <div class="ql-editor"></div>
          </div>
          <!--<div [ngClass]="{'hidden': currentTab !== 'attachment'}" class="attachment-list-wrap" *ngIf="note.attachments">

            <table class="table table-middle wth-table table-hover"
                   *ngIf="note.attachments.length > 0">
              <thead>
              <tr>
                <th class="can-click" (click)="onSort('name')">
                  Name <i *ngIf="hasSortBy" class="fa"
                          [ngClass]="{'fa-arrow-up': !orderDesc, 'fa-arrow-down': orderDesc }"></i>
                </th>
                <th>File size</th>
                <th>Date Modified</th>
                <th>&nbsp;</th>
              </tr>
              </thead>
              <tbody>
              <tr *ngFor="let att of note.attachments">
                <td [ngClass]="{'can-click': att.object_type == 'photo'}" (click)="fileAttachmentClick(att)">
                  <i *ngIf="att.thumbnail_url && att.object_type == 'photo'" class="fa fa-picture-o"></i>
                  <i *ngIf="att.thumbnail_url && att.object_type !== 'photo'" class="fa fa-file"></i>
                  <i *ngIf="!att.thumbnail_url" class="fa fa-spinner fa-pulse fa-fw"></i>
                  {{ att.name }}
                </td>
                <td>{{ att.size | bytes:3 }}</td>
                <td>{{ (att.updated_at || att.created_at) | date: 'MMM dd yyyy' }}</td>
                <td class="text-right">
                  <button class="btn btn-sm btn-default" type="button" (click)="download(att)">
                    <i class="fa fa-download"></i>
                  </button>
                  <button (click)="cancelUpload(att)" class="btn btn-sm btn-default" type="button">
                    <i class="fa fa-trash-o"></i>
                  </button>
                </td>
              </tr>
              </tbody>
            </table>
          </div>-->
        </div>
      </div>
    </div>
  </bs-modal-body>
</bs-modal>
