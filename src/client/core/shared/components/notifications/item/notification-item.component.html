<div class="media" *ngIf="!notification?.isHidden">
  <div class="media-left">
    <span class="avatar-xsm">
      <img [src]="notification?.actor.profile_image" alt="{{ notification?.actor?.name }}">
    </span>
  </div>
  <div class="media-body">
    <p class="media-heading">
      <a class="link-text bold" [routerLink]="['/profile', notification?.actor.uuid]">
        {{ notification?.actor?.name }}</a>
      <span [innerHTML]="notification?.text"></span>
      <a class="link-text bold" [routerLink]="['/communities', notification?.community?.uuid]" *ngIf="notification?.community?.name">
        {{ notification?.community?.name }}</a>
    </p>
    <div *ngIf="notification?.actions[0]">
      <p *ngIf="notification?.actions[0]?.name == 'view'">
        <small (click)="doAction(notification?.actions[0], notification?.id)"
               class="notifications-item-time text-fade can-click">
          {{ notification?.created_at | timeFormat }}
        </small>
      </p>
      <div *ngIf="notification?.actions[0]?.name != 'view'" class="notifications-item-button">
        <button *ngFor="let action of notification?.actions"
                class="btn btn-xs mr5 text-capitalize" type="button"
                [ngClass]="{'btn-outline-primary': action?.name == 'accept', 'btn-outline-default': (action.name == 'cancel' || action.name == 'reject')}"
                (click)="doAction(action, notification?.id)">
          <i class="fa"
             [ngClass]="{'fa-check': action.name == 'accept', 'fa-times': (action.name == 'cancel' || action.name == 'reject')}"></i>
          {{ action.name }}
        </button>
      </div>
    </div>
    <div *ngIf="notification?.response_actions[0]">
      <p>
        <small class="notifications-item-time text-fade can-click">
          {{ notification?.created_at | timeFormat }}
        </small>
      </p>
      <div class="notifications-item-button">
        <span *ngFor="let action of notification?.response_actions"
              class="btn-text btn-xs mr5 text-capitalize">
          <i class="fa"
             [ngClass]="{'fa-check': action.name == 'accept', 'fa-times': (action.name == 'cancel' || action.name == 'reject')}"></i>
          {{ action.name }}ed
        </span>
      </div>
    </div>

  </div>
  <div class="media-right">
    <div class="btn-group pull-right clearfix">
      <button type="button" class="btn btn-xs btn-default dropdown-toggle"
              aria-haspopup="true" aria-expanded="false">
        <i class="fa fa-ellipsis-v"></i>
      </button>
      <ul class="dropdown-menu">
        <li><a href="javascript:;" class="text-disable">Disable Notification for this post</a>
        <li><a href="javascript:;" (click)="confirmHideNotification(notification)">Hide this notification</a>
        </li>
      </ul>

    </div>
    <div class="pull-right">
      <button class="btn btn-sm btn-default" type="button"
              (click)="toggleReadStatus(notification)">
        <i class="fa"
           [ngClass]="{'fa-circle': notification?.is_read, 'fa-circle-o': !notification?.is_read}"></i>
      </button>
    </div>

  </div>
</div>
<undo-notification [notification]="notification" *ngIf="!!notification?.isHidden"></undo-notification>
<!--<ng-template #undo_notification ></ng-template>-->
