<div id="sharingModal" class="modal" tabindex="-1" role="dialog">
  <div class="modal-dialog modal-custom modal-long" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
          aria-hidden="true">&times;</span></button>
        <h4 class="modal-title"><i class="fa fa-share-alt"></i> Sharing</h4>
      </div>
      <div class="modal-body">
        <p>Group</p>
        <div class="form-group">
          <!--<input type="text" class="form-control" placeholder="">-->
          <p-autoComplete
            [(ngModel)]="textContactGroups"
            [suggestions]="filteredContactGroups"
            [multiple]="true"
            [minLength]="1"
            field="name"
            (onSelect)="selectContactGroup($event)"
            (onUnselect)="unSelectContactGroup($event)"
            (completeMethod)="searchContactGroup($event)"
            ></p-autoComplete>

        </div>
        <div class="modal-body-collapse" *ngIf="sharedContactGroups.length > 0">
          <a role="button" data-toggle="collapse" href="#collapseGroup" aria-expanded="false"
             aria-controls="collapseExample">
            Shared in {{sharedContactGroups.length}} groups
          </a>
          <div class="collapse" id="collapseGroup">
            <div class="modal-body-collapse-in">
              <div class="media-list-item" *ngFor="let group of sharedContactGroups">
                <div class="media" [ngClass]="isDeletedItem(group.id, false) ? 'remove': ''">
                  <div class="media-left">
                    <figure>
                      <img src="assets/images/zone/img-group.png" alt="">
                    </figure>
                  </div>
                  <div class="media-body">
                    {{group.name}}
                  </div>
                  <div class="media-right">
                    <a href="#" (click)="toggleRemoving($event, group.id, false)">{{isDeletedItem(group.id, false) ? 'Cancel': 'Remove'}}</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <hr>
        <p>Contact</p>
        <div class="form-group">
          <!--<input type="text" class="form-control" placeholder="">-->
          <p-autoComplete [(ngModel)]="textContacts"
                          [suggestions]="filteredContacts"
                          [multiple]="true"
                          [minLength]="1"
                          field="name"
                          (onSelect)="selectContact($event)"
                          (onUnselect)="unSelectContact($event)"
                          (completeMethod)="searchContact($event)"
          >

            <!--<template let-contact>-->
              <!--<div class="ui-helper-clearfix" style="border-bottom:1px solid #D5D5D5">-->
                <!--<img src="showcase/resources/demo/images/car/{{brand}}.gif" style="width:32px;display:inline-block;margin:5px 0 2px 5px"/>-->
                <!--<div style="font-size:18px;float:right;margin:10px 10px 0 0">{{ name }}</div>-->
              <!--</div>-->
            <!--</template>-->

          </p-autoComplete>
        </div>
        <div class="modal-body-collapse" *ngIf="sharedContacts.length">
          <a role="button" data-toggle="collapse" href="#collapseContact" aria-expanded="false"
             aria-controls="collapseExample">
            Shared with {{sharedContacts.length}} Contacts
          </a>
          <div class="collapse" id="collapseContact">
            <div class="modal-body-collapse-in">
              <div class="media-list-item" *ngFor="let contact of sharedContacts" >
                <div class="media" [ngClass]="isDeletedItem(contact.id) ? 'remove': ''">
                  <div class="media-left">
                    <figure>
                      <img src="assets/images/zone/img-group.png" alt="">
                    </figure>
                  </div>
                  <div class="media-body">
                    {{contact.name}}
                  </div>
                  <div class="media-right">
                    <a href="#" (click)="toggleRemoving($event, contact.id)">{{isDeletedItem(contact.id) ? 'Cancel': 'Remove'}}</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <p *ngIf="hasDeletedItems" class="text-left text-danger">You have made changes that you need to save!</p>
        <button type="button" (click)="save()" class="btn btn-primary-inline">Save</button>
        <button type="button" class="btn btn-default-inline" data-dismiss="modal">Cancel</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->

