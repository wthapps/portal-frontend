<div class="z-social-comment">
  <!--Add new comment-->
  <comment-box #commentBox (eventEmitter)="onAction($event)" [item]="item" [type]=1></comment-box>

  <div class="z-social-comment-num">{{item.comments.length}} Comments</div>
  <input type="checkbox" class="read-more-state" attr.id="post-{{item.uuid}}" />
  <ul class="z-social-comment-list media-list read-more-wrap">


    <li class="media" *ngFor="let comment of item.comments; let i = index" [ngClass]="{'read-more-target': (i > 2)}">
      <!--Edit comment-->
      <comment-box id="editComment-{{comment.uuid}}" (eventEmitter)="onAction($event)" [item]="item" [comment]="comment" style="display: none" [type]=2></comment-box>
      <div id="comment-{{comment.uuid}}">
        <div class="media-left">
          <a href="#">
            <img alt="64x64" class="media-object" [src]="item.owner.profile_image" style="width: 34px; border-radius: 3px">
          </a>
        </div>
        <div class="media-body">
          <h4 class="media-heading">{{item.owner.name}}
            <span class="media-heading-time">{{comment.created_at | dateUntilNow}}</span>
          </h4>
          <p>{{comment.content}}</p>
          <img *ngIf="comment.photos[0]" [src]="comment.photos[0].url" style="max-width: 200px">
          <div class="media-body-action dropdown pull-right">
            <a data-toggle="dropdown">
              <i class="fa fa-pencil"></i>
            </a>
            <ul class="dropdown-menu" style="position: relative;">
              <li><a href="javascript:;" (click)="onEditComment(comment)">Edit Comment</a></li>
              <li><a href="javascript:;" (click)="onDeleteComment(comment)">Delete</a></li>
            </ul>
          </div>
          <div class="media-body-reply">
            <ul>
              <li class="active"><a href="#"><i class="fa fa-thumbs-o-up"></i></a></li>
              <li><a href="#"><i class="fa fa-thumbs-o-down"></i></a></li>
              <li><a href="javascript:;" (click)="onReply($event, comment)">{{comment.replies.length}} Replies</a></li>
            </ul>
          </div>
      </div>
      </div>
      <div class="media" *ngFor="let replies of comment.replies" style="position: relative; left: 8%;">
        <div class="media-left">
          <a href="#">
            <img alt="64x64" class="media-object" [src]="item.owner.profile_image" style="width: 34px; border-radius: 3px">
          </a>
        </div>
        <div class="media-body">
          <h4 class="media-heading">{{item.owner.name}}
            <span class="media-heading-time">{{replies.created_at | dateUntilNow}}</span>
          </h4>
          <p>{{replies.content}}</p>
          <img *ngIf="comment.photos[0]" [src]="comment.photos[0].url" style="max-width: 200px">
          <div class="media-body-reply">
            <ul>
              <li class="active"><a href="#"><i class="fa fa-thumbs-o-up"></i></a></li>
              <li><a href="#"><i class="fa fa-thumbs-o-down"></i></a></li>
              <li><a href="#">Reply</a></li>
              <li><a href="#">{{replies.replies.length}} Replies</a></li>
            </ul>
          </div>
        </div>
      </div>
      <comment-box id="reply-{{comment.uuid}}" (eventEmitter)="onAction($event)" [item]="item" [comment]="comment" style="display: none;" [type]=3></comment-box>
    </li>
  </ul>
  <div *ngIf="!showInfo" class="z-social-comment-more">
    <label attr.for="post-{{item.uuid}}" class="read-more-trigger">View all comments</label>
  </div>
</div>
