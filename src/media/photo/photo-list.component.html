<ng-template #objectActionsTemplate>
  <ul class="page-body-control-menu" [ngClass]="{'text-disable': !hasSelectedObjects}" [class.disabled]="!hasSelectedObjects">
    <li>
      <a class="btn btn-default" href="javascript:void(0);" draggable="false" (click)="viewDetail(selectedObjects[0].uuid)"
        pTooltip="{{ tooltip.preview}}" tooltipPosition="bottom">
        <i class="fa fa-eye"></i>
      </a>
    </li>

    <!-- -Hide mobile- -->
    <li class="hidden-xs" *ngIf="hasSelectedObjects">
      <a class="btn btn-default" draggable="false" pTooltip="{{ tooltip.share}}" tooltipPosition="bottom" href="javascript:void(0);"
        (click)="openModalShare()">
        <i class="fa fa-share-alt"></i>
      </a>
    </li>
    <!-- -end Hide mobile- -->

    <li *ngIf="hasSelectedObjects">
      <a class="btn btn-default" href="javascript:void(0);" draggable="false" (click)="toggleFavorite()" pTooltip="{{ tooltip.addToFavorites }}"
        tooltipPosition="bottom">
        <i class="fa" [ngClass]="favoriteAll ? 'fa-star': 'fa-star-o'"></i>
      </a>
    </li>
    <!-- -Hide mobile- -->
    <li class="hidden-xs" *ngIf="hasSelectedObjects">
      <a class="btn btn-default" href="javascript:;" draggable="false" (click)="toolbar.doAction({action: 'openModal',
         payload: { modalName: 'taggingModal', selectedObjects: toolbar.selectedObjects }})"
        pTooltip="{{ tooltip.tag}}" tooltipPosition="bottom">
        <i class="fa fa-tag"></i>
      </a>
    </li>
    <li class="hidden-xs" *ngIf="hasSelectedObjects">
      <a class="btn btn-default" href="javascript:;" draggable="false" (click)="deleteObjects('photos')" pTooltip="{{ tooltip.delete}}"
        tooltipPosition="bottom">
        <i class="fa fa-trash-o"></i>
      </a>
    </li>
    <!-- -end Hide mobile- -->

    <li class="dropdown action" *ngIf="hasSelectedObjects">
      <a class="btn btn-default" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" pTooltip="{{ tooltip.moreAction}}"
        tooltipPosition="bottom">
        <i class="fa fa-ellipsis-v"></i>
      </a>
      <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu2">
        <!-- -show mobile- -->
        <li class="visible-xs-block" *ngIf="hasSelectedObjects">
          <a href="javascript:;" (click)="openModalShare()">
            <i class="fa fa-share-alt"></i> Share
          </a>
        </li>
        <li class="visible-xs-block" *ngIf="hasSelectedObjects">
          <a href="javascript:;" (click)="toolbar.doAction({action: 'openModal', payload: { modalName: 'taggingModal', selectedObjects: toolbar.selectedObjects }})">
            <i class="fa fa-tag"></i> Tag
          </a>
        </li>
        <!-- -end show mobile- -->
        <li *ngIf="hasSelectedObjects">
          <a href="javascript:void(0);" draggable="false" (click)="openModalAddToAlbum(selectedObjects)">
            <i class="fa fa-plus-square"></i> Add to Album
          </a>
        </li>
        <li *ngIf="hasSelectedObjects">
          <a href="javascript:void(0);" draggable="false" (click)="downloadMedia(selectedObjects)">
            <i class="fa fa-download"></i> Download</a>
        </li>
        <li *ngIf="hasSelectedObjects && selectedObjects.length == 1" href="javascript:void(0);" draggable="false">
          <a (click)="openEditModal(selectedObjects[0])">
            <i class="fa fa-edit"></i> Edit Information
          </a>
        </li>
        <li *ngIf="hasSelectedObjects && selectedObjects.length == 1" href="javascript:void(0);" draggable="false">
          <a (click)="viewDetail(selectedObjects[0].uuid)">
            <i class="fa fa-info-circle"></i> View Detail
          </a>
        </li>
        <!-- -show mobile- -->
        <li class="visible-xs-block" *ngIf="hasSelectedObjects">
          <a draggable="false" pTooltip="{{ tooltip.delete}}" tooltipPosition="bottom" href="javascript:;" (click)="toolbar.doAction({action: 'deleteMedia', payload: {selectedObjects: toolbar.selectedObjects}})">
            <i class="fa fa-trash-o"></i> Delete
          </a>
        </li>
        <!-- -end show mobile- -->
      </ul>
    </li>
  </ul>
</ng-template>
<w-toolbar #toolbar [viewMode]="viewMode" [selectedObjects]="selectedObjects" [objectActionsTemplate]="objectActionsTemplate"
  (event)="doToolbarEvent($event)">
</w-toolbar>

<w-grid-list #gridlist [sorting]="sorting" [view]="viewMode" [objects]="objects" (event)="doListEvent($event)"
  (selectedObjectsChanged)="selectedObjectsChanged($event)">

</w-grid-list>

<div class="text-fade text-center" *ngIf="endLoading"> <strong>{{objects.length}} files</strong></div>
<box-loading *ngIf="links?.next"></box-loading>

<box-no-data *ngIf="objects && objects.length == 0" [title]="'There is no photos!'" [icon]="'fa fa-file-video-o'"
  [subTitle]="'Try to upload a new photos'" style="margin-top: 50px; display: block;">
  <button class="btn btn-outline-primary" (click)="upload(['image/*'])">
    <i class="fa fa-cloud-upload"></i> Upload Photo</button>
</box-no-data>
<div #modalContainer></div>
