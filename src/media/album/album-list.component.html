<ng-template #objectActionsTemplate>
  <ul class="page-body-control-menu" [ngClass]="{'text-disable': !hasSelectedObjects}" [class.disabled]="!hasSelectedObjects">
    <!-- -Hide mobile- -->
    <li class="hidden-xs" *ngIf="hasSelectedObjects && selectedObjects.length == 1">
      <a class="btn btn-default" draggable="false" pTooltip="{{ tooltip.share}}" tooltipPosition="bottom" href="javascript:void(0);"
        (click)="openModalShare([selectedObjects[0].sharing_object])">
        <i class="fa fa-share-alt"></i>
      </a>
    </li>
    <!-- -end Hide mobile- -->
    <ng-container *ngIf="hasSelectedObjects">
      <li>
        <a class="btn btn-default" href="javascript:void(0);" draggable="false" (click)="toggleFavorite()" pTooltip="{{ tooltip.addToFavorites }}"
          tooltipPosition="bottom">
          <i class="fa" [ngClass]="favoriteAll ? 'fa-star': 'fa-star-o'"></i>
        </a>
      </li>
      <!-- -Hide mobile- -->
      <li class="hidden-xs">
        <a class="btn btn-default" href="javascript:;" draggable="false" (click)="toolbar.doAction({action: 'openModal',
               payload: { modalName: 'taggingModal', selectedObjects: toolbar.selectedObjects }})"
          pTooltip="{{ tooltip.tag}}" tooltipPosition="bottom">
          <i class="fa fa-tag"></i>
        </a>
      </li>
      <li class="hidden-xs">
        <a class="btn btn-default" href="javascript:;" draggable="false" (click)="deleteObjects('albums')" pTooltip="{{ tooltip.delete}}"
          tooltipPosition="bottom">
          <i class="fa fa-trash-o"></i>
        </a>
      </li>
      <!-- -end Hide mobile- -->
    </ng-container>


    <li class="dropdown action" *ngIf="hasSelectedObjects && selectedObjects.length == 1">
      <a class="btn btn-default" href="#" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" pTooltip="{{ tooltip.moreAction}}"
        tooltipPosition="bottom">
        <i class="fa fa-ellipsis-v"></i>
      </a>
      <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenu2">

        <!-- -show mobile- -->
        <li class="visible-xs-block">
          <a href="javascript:void(0);" (click)="toolbar.doAction({action: 'openModal', payload: {modalName: 'sharingModal', selectedObjects: toolbar.selectedObjects}})">
            <i class="fa fa-share-alt"></i> Share
          </a>
        </li>
        <li class="visible-xs-block">
          <a href="javascript:;" (click)="toolbar.doAction({action: 'openModal', payload: { modalName: 'taggingModal', selectedObjects: toolbar.selectedObjects }})">
            <i class="fa fa-tag"></i> Tag
          </a>
        </li>
        <!-- -end show mobile- -->

        <li>
          <a (click)="openEditModal(selectedObjects[0])" href="javascript:void(0);" draggable="false">
            <i class="fa fa-edit"></i> Edit Information
          </a>
        </li>
        <li>
          <a (click)="viewDetail(selectedObjects[0])" href="javascript:void(0);" draggable="false">
            <i class="fa fa-info-circle"></i> View Detail
          </a>
        </li>
        <li>
          <a href="javascript:void(0);" draggable="false" (click)="downloadAlbum()">
            <i class="fa fa-download"></i> Download
          </a>
        </li>
        <!-- -show mobile- -->
        <li class="visible-xs-block" *ngIf="!!toolbar.selectedObjects.length">
          <a href="javascript:;" (click)="deleteObjects('albums')">
            <i class="fa fa-trash-o"></i> Delete
          </a>
        </li>
        <!-- -end show mobile- -->
      </ul>
    </li>
  </ul>
</ng-template>

<w-toolbar #toolbar [viewMode]="viewMode" [selectedObjects]="selectedObjects" [objectActionsTemplate]="objectActionsTemplate"
  (event)="doToolbarEvent($event)">
</w-toolbar>

<w-grid-list #gridlist [sorting]="sorting" [view]="viewMode" [objects]="objects" (event)="doListEvent($event)"
  (selectedObjectsChanged)="selectedObjectsChanged($event)">

  <!--loading icon-->
  <div class="page-body-content has-page-body-control gray-light" *ngIf="loading">
    <box-loading></box-loading>
  </div>

  <!--no data region-->
  <div class="zone-no-photo text-center" *ngIf="objects && objects.length == 0 && !loading">
    <div>
      <h2>
        <i class="icon-album"></i>
      </h2>
      <h3>There are no albums!</h3>
      <p>
        <button class="btn btn-outline-primary" (click)="doListEvent({action: 'openModal', payload: {modalName: 'createAlbumModal'}})">
          <i class="fa fa-plus-circle"></i> Create an album
        </button>
      </p>
    </div>
  </div>
</w-grid-list>

<box-loading *ngIf="links?.next"></box-loading>
<div class="text-fade text-center" *ngIf="endLoading"> <strong>{{objects.length}} files</strong></div>


<ng-template #modalContainer></ng-template>
