<div class="page-body-content has-page-body-control gray-light">
  <div class="page-body-content-in">
    <ng-container *ngIf="medias$ | async as mediasList; else templateloading">
      <ng-container *ngIf="mediasList?.length; else templateNodata">
        <w-object-list class="media-selection-content gray-light"
                       [data]="mediasList"
                       [sortInline]="false"
                       (completeSort)="onCompleteSort($event)"
                       (completeLoadMore)="onCompleteLoadMore($event)"
                       (completeDoubleClick)="onCompleteDoubleClick($event)">
          <ng-template #columnBox let-item="$implicit">
            <!-------------- PlayList view --------------->
            <ng-container *ngIf="item.object_type == 'Media::PlayList'">
              <div class="wobject-box-img">
                <img [src]="item.thumbnail_url" alt="">
                <div class="wmedia-box-info">{{ item.child_count }} video<span *ngIf="item.child_count>1">s</span>
                </div>
              </div>
              <div class="wobject-box-name">
                <span>{{ item.name }}</span>
                <div class="wobject-box-action">
                  <i class="fa fa-star" (click)="favourites()" [ngClass]="{'fa-star-o': !item.favorite}"></i>
                </div>
              </div>
            </ng-container>

          </ng-template>

        </w-object-list>
      </ng-container>
      <ng-template #templateNodata>
        <div class="media-selection-content gray-light">
          <box-no-data *ngIf="objects && objects.length == 0" [title]="'There is no playlist!'" [icon]="'fa fa-file-video-o'"
                       [subTitle]="'Try to upload a new playlist'"
                       style="margin-top: 50px; display: block;">
            <button class="btn btn-outline-primary" (click)="createPlaylist()">
              <i class="fa fa-cloud-upload"> </i> Create Playlist
            </button>
          </box-no-data>
        </div>
      </ng-template>
    </ng-container>
    <ng-template #templateloading>
      <div class="media-selection-content gray-light">
        <box-loading></box-loading>
      </div>
    </ng-template>
  </div>
</div>

<w-media-selection #mediaSelection></w-media-selection>
